<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Reads comma separated CSV files generated by Qualtrics software. The second
line containing the variable labels is imported. Repetitive introductions to
matrix questions are automatically removed. Variable labels are stored as
attributes."><title>Read a CSV file exported from Qualtrics — read_survey • qualtRics</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read a CSV file exported from Qualtrics — read_survey"><meta property="og:description" content="Reads comma separated CSV files generated by Qualtrics software. The second
line containing the variable labels is imported. Repetitive introductions to
matrix questions are automatically removed. Variable labels are stored as
attributes."><meta property="og:image" content="https://docs.ropensci.org/qualtRics/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">qualtRics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.2.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/qualtRics.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/qualtRics/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read a CSV file exported from Qualtrics</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/qualtRics/blob/HEAD/R/read_survey.R" class="external-link"><code>R/read_survey.R</code></a></small>
      <div class="d-none name"><code>read_survey.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reads comma separated CSV files generated by Qualtrics software. The second
line containing the variable labels is imported. Repetitive introductions to
matrix questions are automatically removed. Variable labels are stored as
attributes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_survey</span><span class="op">(</span></span>
<span>  <span class="va">file_name</span>,</span>
<span>  strip_html <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  import_id <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  time_zone <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legacy <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_column_map <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_var_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  col_types <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>file_name</dt>
<dd><p>String. A CSV data file.</p></dd>


<dt>strip_html</dt>
<dd><p>Logical. If <code>TRUE</code>, then remove HTML tags from variable
descriptions. Defaults to <code>TRUE</code>.</p></dd>


<dt>import_id</dt>
<dd><p>Logical. If <code>TRUE</code>, use Qualtrics import IDs instead of
question IDs as column names. Defaults to <code>FALSE</code>.</p></dd>


<dt>time_zone</dt>
<dd><p>String. A local timezone to determine response date values.
Defaults to <code>NULL</code> which corresponds to UTC time. See <a href="https://api.qualtrics.com/" class="external-link">"Dates and Times"</a> from Qualtrics for more information on
format.</p></dd>


<dt>legacy</dt>
<dd><p>Logical. If <code>TRUE</code>, then import "legacy" format CSV files (as
of 2017). Defaults to <code>FALSE</code>.</p></dd>


<dt>add_column_map</dt>
<dd><p>Logical. If <code>TRUE</code>, then a column map data frame will
be added as an attribute to the main response data frame. This column map
captures Qualtrics-provided metadata associated with the response download,
such as an item description and internal ID's. Defaults to <code>TRUE</code>.</p></dd>


<dt>add_var_labels</dt>
<dd><p>Logical. If <code>TRUE</code>, then the item description from each
variable (equivalent to the one in the column map) will be added as a
"label" attribute using <code><a href="https://strengejacke.github.io/sjlabelled/reference/set_label.html" class="external-link">sjlabelled::set_label()</a></code>. Useful for reference as
well as cross-compatibility with other stats packages (e.g., Stata, see
documentation in <code>sjlabelled</code>). Defaults to <code>TRUE</code>.</p></dd>


<dt>col_types</dt>
<dd><p>Optional. This argument provides a way to manually overwrite
column types that may be incorrectly guessed. Takes a <code><a href="https://readr.tidyverse.org/reference/cols.html" class="external-link">readr::cols()</a></code>
specification. See example below and <code><a href="https://readr.tidyverse.org/reference/cols.html" class="external-link">readr::cols()</a></code> for formatting
details. Defaults to <code>NULL</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame. Variable labels are stored as attributes. They are not
printed on the console but are visibile in the RStudio viewer.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Generic use of read_survey()</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">read_survey</span><span class="op">(</span><span class="st">"&lt;YOUR-PATH-TO-CSV-FILE&gt;"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># Example using current data format</span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sample.csv"</span>, package <span class="op">=</span> <span class="st">"qualtRics"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">read_survey</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> cols(</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   .default = col_double(),</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   StartDate = <span style="color: #0000BB;">col_datetime(format = "")</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   EndDate = <span style="color: #0000BB;">col_datetime(format = "")</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   IPAddress = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   RecordedDate = <span style="color: #0000BB;">col_datetime(format = "")</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   ResponseId = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   RecipientLastName = <span style="color: #BBBB00;">col_logical()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   RecipientFirstName = <span style="color: #BBBB00;">col_logical()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   RecipientEmail = <span style="color: #BBBB00;">col_logical()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   ExternalReference = <span style="color: #BBBB00;">col_logical()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   DistributionChannel = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   UserLanguage = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Q2 = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   `Q2 - Topics` = <span style="color: #BBBB00;">col_logical()</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> )</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use `spec()` for the full column specifications.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example using legacy data format</span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sample_legacy.csv"</span>, package <span class="op">=</span> <span class="st">"qualtRics"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">read_survey</span><span class="op">(</span><span class="va">file</span>, legacy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> cols(</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V1 = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V2 = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V3 = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V4 = <span style="color: #BBBB00;">col_logical()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V5 = <span style="color: #BBBB00;">col_logical()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V6 = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V7 = <span style="color: #00BB00;">col_double()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V8 = <span style="color: #0000BB;">col_datetime(format = "")</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V9 = <span style="color: #0000BB;">col_datetime(format = "")</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   V10 = <span style="color: #00BB00;">col_double()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Q1 = <span style="color: #00BB00;">col_double()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Q2 = <span style="color: #BB0000;">col_character()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   LocationLatitude = <span style="color: #00BB00;">col_double()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   LocationLongitude = <span style="color: #00BB00;">col_double()</span>,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   LocationAccuracy = <span style="color: #00BB00;">col_double()</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> )</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example changing column type</span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sample.csv"</span>, package <span class="op">=</span> <span class="st">"qualtRics"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Force EndDate to be a string</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">read_survey</span><span class="op">(</span><span class="va">file</span>, col_types <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/cols.html" class="external-link">cols</a></span><span class="op">(</span>EndDate <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_character</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

