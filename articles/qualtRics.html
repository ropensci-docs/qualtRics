<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="qualtRics">
<title>Introduction to qualtRics • qualtRics</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to qualtRics">
<meta property="og:description" content="qualtRics">
<meta property="og:image" content="https://docs.ropensci.org/qualtRics/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">qualtRics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.2.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="active nav-item">
  <a class="nav-link" href="../articles/qualtRics.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/qualtRics/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to qualtRics</h1>
                        <h4 data-toc-skip class="author">Julia Silge and Jasper Ginn</h4>
            
            <h4 data-toc-skip class="date">2024-03-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/qualtRics/blob/HEAD/vignettes/qualtRics.Rmd" class="external-link"><code>vignettes/qualtRics.Rmd</code></a></small>
      <div class="d-none name"><code>qualtRics.Rmd</code></div>
    </div>

    
    
<p><a href="https://www.qualtrics.com/" class="external-link">Qualtrics</a> is an online survey and data collection software platform. Qualtrics is used across many domains in both academia and industry for online surveys and research. While users can manually download survey responses from Qualtrics through a browser, importing this data into R is then cumbersome. The qualtRics R package implements the retrieval of survey data using the Qualtrics API and aims to reduce the pre-processing steps needed in analyzing such surveys.</p>
<p>Note that your institution must support API access and that it must be enabled for your account. Whoever manages your Qualtrics account can help you with this. Please refer to the <a href="https://api.qualtrics.com/" class="external-link">Qualtrics documentation</a> to find your API token.</p>
<p>The authors and contributors for this R package are not affiliated with Qualtrics and Qualtrics does not offer support for this R package.</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Currently, the package contains three core functions:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/all_surveys.html">all_surveys()</a></code> fetches a list of all surveys that you own or have access to from Qualtrics.</li>
<li>
<code><a href="../reference/fetch_survey.html">fetch_survey()</a></code> downloads a survey from Qualtrics and loads it into R.</li>
<li>
<code><a href="../reference/read_survey.html">read_survey()</a></code> allows you to read CSV files you download manually from Qualtrics.</li>
</ol>
<p>It also contains a number of helper functions, including:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/qualtrics_api_credentials.html">qualtrics_api_credentials()</a></code> stores your API key and base url in environment variables.</li>
<li>
<code><a href="../reference/survey_questions.html">survey_questions()</a></code> retrieves a data frame containing questions and question IDs for a survey; <code><a href="../reference/extract_colmap.html">extract_colmap()</a></code> retrieves a similar data frame with more detailed mapping from columns to labels.</li>
<li>
<code><a href="../reference/metadata.html">metadata()</a></code> retrieves metadata about your survey, such as questions, survey flow, number of responses etc.</li>
</ol>
<p>Note that you can only export surveys that you own, or to which you have been given administration rights.</p>
</div>
<div class="section level2">
<h2 id="registering-your-qualtrics-credentials">Registering your Qualtrics credentials<a class="anchor" aria-label="anchor" href="#registering-your-qualtrics-credentials"></a>
</h2>
<p>There are two important credentials you need to authenticate with the Qualtrics API. These are your <strong>API key</strong> and <strong>datacenter-specific base URL</strong>. The base URL you pass to the qualtRics package should look like <code>yourdatacenterid.qualtrics.com</code>, without a scheme such as <code>https://</code>. The <a href="https://api.qualtrics.com/" class="external-link">Qualtrics API documentation</a> explains how you can find your base URL.</p>
<p>You can store your API credentials <code>QUALTRICS_API_KEY</code> and <code>QUALTRICS_BASE_URL</code> in your <code>.Renviron</code> file for repeated use across sessions. The qualtRics package has a function to help with this.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/qualtRics/">qualtRics</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/qualtrics_api_credentials.html">qualtrics_api_credentials</a></span><span class="op">(</span>api_key <span class="op">=</span> <span class="st">"&lt;YOUR-QUALTRICS_API_KEY&gt;"</span>, </span>
<span>                          base_url <span class="op">=</span> <span class="st">"&lt;YOUR-QUALTRICS_BASE_URL&gt;"</span>,</span>
<span>                          install <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>After you use this function, reload your environment (<code>readRenviron("~/.Renviron")</code>) so you can use the credentials without restarting R.</p>
<p><strong>NOTE:</strong> If you get an error when fetching a survey like:</p>
<blockquote>
<p>Request proxied. For faster response times, use this host instead: xxx.qualtrics.com</p>
</blockquote>
<p>then change your <code>QUALTRICS_BASE_URL</code> to use the suggested host.</p>
</div>
<div class="section level2">
<h2 id="a-simple-qualtrics-workflow">A simple Qualtrics workflow<a class="anchor" aria-label="anchor" href="#a-simple-qualtrics-workflow"></a>
</h2>
<p>Once your Qualtrics API credentials are stored, you can see what surveys are available to you.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">surveys</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/all_surveys.html">all_surveys</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<p>You can then download the data from any of these individual surveys (for example, perhaps the sixth one) directly into R.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mysurvey</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_survey.html">fetch_survey</a></span><span class="op">(</span>surveyID <span class="op">=</span> <span class="va">surveys</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span>, </span>
<span>                         verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="more-detailed-control">More detailed control<a class="anchor" aria-label="anchor" href="#more-detailed-control"></a>
</h2>
<p>You can add date parameters to only retrieve responses between certain dates:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mysurvey</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_survey.html">fetch_survey</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>,</span>
<span>                         start_date <span class="op">=</span> <span class="st">"2018-10-01"</span>,</span>
<span>                         end_date <span class="op">=</span> <span class="st">"2018-10-31"</span>,</span>
<span>                         label <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Note that your date and time settings may not correspond to your own timezone. You can find out how to do this <a href="https://www.qualtrics.com/support/survey-platform/managing-your-account/research-core-account-settings/#user-settings" class="external-link">here</a>. See <a href="https://api.qualtrics.com/" class="external-link">“Dates and Times” under “Instructions”</a> for more information about how Qualtrics handles dates and times. <strong>Keep in mind that this is important if you plan on using times / dates as cut-off points to filter data</strong>.</p>
<p>You may also reference a response ID; <code><a href="../reference/fetch_survey.html">fetch_survey()</a></code> will then download all responses that were submitted after that response:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mysurvey</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_survey.html">fetch_survey</a></span><span class="op">(</span><span class="va">surveys</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>,</span>
<span>                         last_response <span class="op">=</span> <span class="st">"R_3mmovCIeMllvsER"</span>,</span>
<span>                         label <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                         verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>You can filter a survey for specific questions:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># what are the questions in a certain survey?</span></span>
<span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/survey_questions.html">survey_questions</a></span><span class="op">(</span>surveyID <span class="op">=</span> <span class="va">surveys</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># download that survey, filtering for only certain questions</span></span>
<span><span class="va">mysurvey</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_survey.html">fetch_survey</a></span><span class="op">(</span>surveyID <span class="op">=</span> <span class="va">surveys</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span>,</span>
<span>                         save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                         include_questions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QID1"</span>, <span class="st">"QID2"</span>, <span class="st">"QID3"</span><span class="op">)</span>,</span>
<span>                         verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>You can store the results in a specific location if you like:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mysurvey</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_survey.html">fetch_survey</a></span><span class="op">(</span>surveyID <span class="op">=</span> <span class="va">surveys</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span>, </span>
<span>                         save_dir <span class="op">=</span> <span class="st">"/users/Julia/Desktop/"</span>, </span>
<span>                         verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Note that surveys that are stored in this way will be saved as an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/readRDS.html" class="external-link">RDS</a> file rather than e.g. a CSV. Reading an RDS file can be done like so:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mysurvey</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"/users/Julia/Desktop/mysurvey.rds"</span><span class="op">)</span></span></code></pre></div>
<p>You can read a survey that you downloaded manually from Qualtrics’ website via a browser using <code><a href="../reference/read_survey.html">read_survey()</a></code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mysurvey</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_survey.html">read_survey</a></span><span class="op">(</span><span class="st">"/users/Julia/Desktop/mysurvey.csv"</span><span class="op">)</span></span></code></pre></div>
<p>To avoid special characters (mainly periods) in header names, <code><a href="../reference/read_survey.html">read_survey()</a></code> uses question labels as the header names. The question belonging to that label is then added using the <a href="https://CRAN.R-project.org/package=sjlabelled" class="external-link">sjlabelled</a> package. Qualtrics gives names to these labels automatically, but you can easily change them.</p>
<p><img src="qualtricsdf.png" width="80%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
